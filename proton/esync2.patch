--- wine-hostei/server/esync.c	2025-08-16 13:39:33.120481813 +0800
+++ kron4ek-winetkg/server/esync.c	2025-08-23 13:04:17.754419804 +0800
@@ -58,7 +58,7 @@
 #endif
 }
 
-static char shm_name[200];
+static char shm_name[29];
 static int shm_fd;
 static off_t shm_size;
 static void **shm_addrs;
@@ -68,7 +68,7 @@
 static void shm_cleanup(void)
 {
     close( shm_fd );
-    if (unlink( shm_name ) == -1)
+    if (shm_unlink( shm_name ) == -1)
         perror( "shm_unlink" );
 }
 
@@ -80,12 +80,13 @@
         fatal_error( "cannot stat config dir\n" );
 
     if (st.st_ino != (unsigned long)st.st_ino)
-        	sprintf( shm_name, "/data/data/com.termux/files/usr/tmp/wine-%lx%08lx-esync", (unsigned long)((unsigned long long)st.st_ino >> 32), (unsigned long)st.st_ino );
-    	else
-           sprintf( shm_name, "/data/data/com.termux/files/usr/tmp/wine-%lx-esync", (unsigned long)st.st_ino );
-        unlink( shm_name );
-        shm_fd = open( shm_name, O_RDWR | O_CREAT | O_EXCL, 0644 );
-        
+        sprintf( shm_name, "/wine-%lx%08lx-esync", (unsigned long)((unsigned long long)st.st_ino >> 32), (unsigned long)st.st_ino );
+    else
+        sprintf( shm_name, "/wine-%lx-esync", (unsigned long)st.st_ino );
+
+    shm_unlink( shm_name );
+
+    shm_fd = shm_open( shm_name, O_RDWR | O_CREAT | O_EXCL, 0644 );
     if (shm_fd == -1)
         perror( "shm_open" );
 
